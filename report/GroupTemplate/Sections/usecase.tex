\section{Use Case and Quality Attribute Scenario}
\label{sec:use_case_and_qas}
This Section introduces the use cases and the specified QASes.
The QASes are developed based on the use cases.

\subsection{Use cases}
\label{sec:use_case}
To better grasp the ability of the system, several use cases have been constructed. The use cases assists to identify systems and subsystems needed to implement the system.
Its important to also consider the quality of the system that goes beyond just functionality. This will be refered to as quality attributes \cite{bass2021software}. \vspace{2mm}

\subsubsection{Automatic feed ordering}
\label{sec:use_case_feed}
The first use case outlines an automatic order placement for more feed, which is triggered by low feed stock levels. This use case contains three actors: A feed distributor, a control system and a feed vendor.
Events in this use case is the feed distributor continously monitors feed levels and when the stock reaches below a certain amount it triggers a signal which gets sent to the control system.
The control system recieves the signal and creates the order for more feed, which it then forwards to the vendor system.
The vendor recieves order and checks for availability of feed for the incoming order. In case of resource shortage the vendor notifies the control system, so that the farmer can take action accordingly.
If resource are available the vendor schedules packaging of the feed and makes sure it is shipped to the farm and the control panel is notified of the order completion. From the time that the feed distributor recieves a signal of low stock the whole sequence must be finished within a resonable timeframe. \vspace{2mm} \newline
From this use case it is possible to derive several systems already for the management of livestock feed. First off for the feed distributor to know how much feed is currently in the silo on the farm, it needs information on the current stock. This could be done with a weight sensor in the silo but implmentations could varie. The feed distributor is then designed to act upon the stock of the silo reaches below a certain point. \vspace{2mm} \newline
The use case also describes a control system which handles the signal from the feed distributor and the creation of the order for the vendor, the vendor in this case is an external system that is not included in the prototybe system.

\subsubsection{Detect changes in livestock conditions}
This use case describes a scenario that can alert the farmer of the wellbeings of the livestock. This use case contains four actors: Sensors, a health analyzer, a control system and the farmer.
Eevnts in this use case is first of initiated by continously data being generated by sensors that are either attached to the livestock or its surroundings. This data is being transmitted into a storage system which then can be used to analyze the health of the livestock.
The health analyzer will then analyze the sensor data and if the data suggests e.g. a disease or other forms of the livestocks condition being worsened the system will transmit a warning to the control panel.
The control panel can be accessed by the farmer and the alert from the health analyzer will be able to tell the farmer which actions are required. The system should be able to handle the addition of new livestock, this will result in more sensors being added which should be completed with no downtime of the system.
In case of added load by the addition of more sensors, the system should be able to handle the increased load by dynamically scaling the storage. \vspace{2mm} \newline
From this use case more systems was identified to be implemented in the system. The control panel is already mentioned from the previous use case.
A system for the sensors are needed to transmit the data in to some form of storage system. The sensors will be generating a great amount of data, so the system should be able to handle a high throughput of data and also store a large amount of it.
This storage system can then be accessed by the health analyzer, which should be able to able to alert the farmer and also inform of the necessary actions. \newline

\subsection{Quality attribute scenarios}
\label{sec:qas}
To define success criteria for the system, several quality attribute scenarios have been created. These are used for setting up a scenario in which one of the quality attributes of the system gets addressed \cite{bass2021software}. This is helpful for testing the capabilities of the system.
A template for defining QASes is used for the creation of these scenarios. The templates captures a scenario through \textit{Source, Stimulus, Artifact, Environment, Response and Response measure} to which the requirement should apply \cite{bass2021software}. \newline
For the system in this paper there is specified three main requirements:
\begin{enumerate}
    \item Production software must be able to exchange and coordinate information to execut a prodcution and change production.
    \item Production software must run 24/7
    \item Production software must be continously deployable
\end{enumerate}
These three requirements can be directly translated to quality attributes. The first one refers to interoperability, the second availability and the third is described by deployability. \newline

\subsubsection{Interoperability}

\begin{table}[h]
    \renewcommand{\arraystretch}{1.3}
    \caption{Interoperability quality attribute scenarios}
    \label{interoperability}
    \centering
    \begin{tabularx}{\columnwidth}{>{\hsize=0.3\hsize}X>{\hsize=0.7\hsize}X}
        \hline
        \textbf{Portion of scenario} & \textbf{Value}                                                                               \\
        \hline
        Source                       & Feed distributor system.                                                                     \\
        Stimulus                     & A signal from the feed distributor indicating low feed stock.                                \\
        Artifact                     & Control system.                                                                              \\
        Environment                  & Normal operation during low feed stock.                                                      \\
        Response                     & The control system successfully creates and forwards an order to the external vendor system. \\
        Response measure             & The order is accuratly transmitted and the external vendor acknowledges it wihtin 5 seconds. \\
        \hline
    \end{tabularx}
\end{table}

Table \ref{interoperability} is a scenario for the interoperability quality attribute, which referes to the ability of two or more systems to be able to exchange and use information \cite{brownsword_2004}.
For the interoperability QAS, the scenario described is the ability of the system to be able to react to low feed stock and therefore make sure the necessary communication is carried out with other systems, this includes both the external vendor but also the control system.
The \textit{Source} in this scenario is the feed distributor system, which triggers the \textit{Stimulus}, in this case the indication of low feed stock. The stimulus arrives at the \textit{Artifact} (the control system), which is responsible for creating the order for feed. The \textit{Environment} assumes the condition of the component / system, which in this case is assumed to be under normal operation.
The \textit{Response} describes a process that handles the stimulus, so the system should be able to successfully create and forward the order. To be able to determine if the requirement from the scenario is satisfied the \textit{Response measure} is specified, which in this scenario specifies that the whole process should be transmitted and acknowledged within a certain timeframe (in this case 5 seconds). \newline

\subsubsection{Availability}

\begin{table}[h]
    \renewcommand{\arraystretch}{1.3}
    \caption{Availability quality attribute scenarios}
    \label{availability}
    \centering
    \begin{tabularx}{\columnwidth}{>{\hsize=0.3\hsize}X>{\hsize=0.7\hsize}X}
        \hline
        \textbf{Portion of scenario} & \textbf{Value}                                                                                           \\
        \hline
        Source                       & High sensor data throughput.                                                                             \\
        Stimulus                     & The message bus experiences an overload, causing the loss of a partition.                                \\
        Artifact                     & Message bus.                                                                                             \\
        Environment                  & Overloaded condition.                                                                                    \\
        Response                     & Due to the replication factor, the system ensures that the lost partition's data is still available.     \\
        Response measure             & The system maintains data integrity and availability through replication, even when a partition is lost. \\
        \hline
    \end{tabularx}
\end{table}

Table \ref{availability} is a scenario for the availability quality attribute, which refers to the systems ability to be ready to carry out a task, but it also covers the systems ability to mask or repair faults \cite{bass2021software}.
For the availability QAS, the scenario described is the systems ability to handle added load from the throughput of sensor data. The system should from the added load be able to circumvent the loss of data or the system becoming degraded in performance.
The \textit{Source} is coming from the sensor data throughput, which as described by the \textit{Stimulus} causes loss of a partition within the \textit{Artifact} (the message bus). The \textit{Environment} is assumed to be in an overloaded condition due to the amount of data causing the loss of a partition in the message bus.
The \textit{Response} handles the stimulus by applyin tactics or patterns to address the availability of the system in the case of a partition loss. The \textit{Response measure} indicates the handling of the fault should result in no data lost and the system to be with no downtime. \newline
\subsubsection{Deployability}

\begin{table}[h]
    \renewcommand{\arraystretch}{1.3}
    \caption{Deployability quality attribute scenarios}
    \label{deployability}
    \centering
    \begin{tabularx}{\columnwidth}{>{\hsize=0.3\hsize}X>{\hsize=0.7\hsize}X}
        \hline
        \textbf{Portion of scenario} & \textbf{Value}                                                                                                        \\
        \hline
        Source                       & Increased livestock population.                                                                                       \\
        Stimulus                     & Addition of more sensors to the livestock monitoring system.                                                          \\
        Artifact                     & Sensor system.                                                                                                        \\
        Environment                  & Deployment of additional sensors.                                                                                     \\
        Response                     & The system allows plug-and-play functionality, allowing quick and straight forward integration of additional sensors. \\
        Response measure             & New sensors can be deployed and be operational without downtime or configuration challenges.                          \\
        \hline
    \end{tabularx}
\end{table}


Table \ref{deployability} presents a scenario for the deployability of the system. Deployability refers to the system's ability to be updated continuously without requiring downtime, as described in \cite{bass2021software}. The goal is to expedite integration, enabling the development team to rapidly deploy updates to the production system.
For the deployability QAS, the scenario described highlights the systems ability to increase the amount sensors in the system. The system should be able to handle the added sensors without the need for downtime in the system.
The \textit{Source} is the increased livestock population which triggers the \textit{Stimulus} which is the addition of sensors. This is handled within the \textit{Artifact} (the sensor system), and the \textit{Environment} is the deployment of the additional sensors.
The \textit{Response} describes the systems ability to allow plug-and-play functionality, which allows for quick and easy integration of additional sensors. The \textit{Response measure} implies the process should be completed with no system downtime and configuration challenges. \newline